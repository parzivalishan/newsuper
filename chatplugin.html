<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Chat Button with Tawk.to</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #0B0C0E; /* Dark black background */
            margin: 0;
            padding: 0;
            min-height: 100vh;
            position: relative;
        }

        /* Infinite grid background */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                repeating-linear-gradient(transparent, transparent 9px, rgba(255, 255, 255, 0.1) 10px),
                repeating-linear-gradient(90deg, transparent, transparent 9px, rgba(255, 255, 255, 0.1) 10px);
            background-size: 100px 100px;
            z-index: -1;
            pointer-events: none;
        }

        .outer-box {
            display: inline-block;
            padding: 15px;
            border-radius: 12px;
            position: absolute;
            bottom: 20px;
            right: 20px;
            overflow: hidden;
            z-index: 2;
        }

        .inner-box {
            display: inline-block;
            padding: 10px;
            background-color: black;
            border: 2px solid transparent;
            border-radius: 8px;
            position: relative;
            cursor: pointer;
        }

        .gradient-border {
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background-image: linear-gradient(270deg, red, orange, yellow, green, cyan, blue, violet, red);
            background-size: 400%;
            border-radius: 12px;
            animation: move-gradient 8s linear infinite;
        }

        @keyframes move-gradient {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
    </style>
</head>
<body>

<div class="outer-box">
    <div class="gradient-border"></div>
    <div id="custom-chat-icon-wrapper" class="inner-box" onclick="openTawkChat()">
        <!-- Custom SVG logo -->
        <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-4" height="50px" width="50px" xmlns="http://www.w3.org/2000/svg" style="color: #333;">
            <path d="M16.5 10c3.038 0 5.5 2.015 5.5 4.5c0 1.397 -.778 2.645 -2 3.47l0 2.03l-1.964 -1.178a6.649 6.649 0 0 1 -1.536 .178c-3.038 0 -5.5 -2.015 -5.5 -4.5s2.462 -4.5 5.5 -4.5z"></path>
            <path d="M11.197 15.698c-.69 .196 -1.43 .302 -2.197 .302a8.008 8.008 0 0 1 -2.612 -.432l-2.388 1.432v-2.801c-1.237 -1.082 -2 -2.564 -2 -4.199c0 -3.314 3.134 -6 7 -6c3.782 0 6.863 2.57 7 5.785l0 .233"></path>
            <path d="M10 8h.01"></path>
            <path d="M7 8h.01"></path>
            <path d="M15 14h.01"></path>
            <path d="M18 14h.01"></path>
        </svg>
    </div>
</div>

<!-- Tawk.to Widget Script -->
<script type="text/javascript">
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function() {
        var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
        s1.async = true;
        s1.src = 'https://embed.tawk.to/6740e2252480f5b4f5a2938f/default'; // Your Tawk.to widget source
        s1.charset = 'UTF-8';
        s1.setAttribute('crossorigin', '*');
        s0.parentNode.insertBefore(s1, s0);
    })();

    // Listen for the script load and check if Tawk_API is available
    window.addEventListener("load", function() {
        var checkAPI = setInterval(function() {
            if (typeof Tawk_API !== "undefined" && Tawk_API.toggle) {
                clearInterval(checkAPI); // Stop checking once API is ready
                console.log("Tawk API loaded successfully");
                Tawk_API.hideWidget(); // Hide the default Tawk.to widget initially
            } else {
                console.log("Tawk API is not yet loaded");
            }
        }, 500); // Check every 500ms
    });

    // Open Tawk.to chat when the custom button is clicked
    function openTawkChat() {
        if (typeof Tawk_API !== "undefined" && Tawk_API.toggle) {
            console.log("Toggling Tawk chat");
            Tawk_API.toggle(); // Toggle the chat window visibility
        } else {
            console.error("Tawk API not loaded or unavailable");
        }
    }
</script>

</body>
</html>
